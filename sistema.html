<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sistema Confeitaria Lourdes</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="icon" href="assets/cake.png" type="image/png">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="styles.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
</head>
<body class="bg-gray-50">
    <div class="container mx-auto p-4 max-w-6xl">
        <header class="mb-6 sm:mb-8">
            <div class="flex flex-col sm:flex-row sm:justify-between sm:items-center space-y-4 sm:space-y-0">
                <div class="text-center sm:text-left flex-1">
                    <h1 class="text-2xl sm:text-3xl font-bold text-pink-600">Lourdes</h1>
                    <p class="text-sm sm:text-base text-gray-600">Sistema de gerenciamento de produtos e pedidos</p>
                </div>
                <div class="flex flex-col sm:flex-row items-center space-y-2 sm:space-y-0 sm:space-x-4">
                    <div class="text-center sm:text-right">
                        <p class="text-xs sm:text-sm text-gray-600">Bem-vindo(a),</p>
                        <p id="nomeUsuario" class="font-semibold text-pink-600 text-sm sm:text-base">Usu√°rio</p>
                    </div>
                    <button id="btnLogout" class="inline-flex items-center px-3 py-2 bg-red-600 border border-transparent rounded-md font-medium text-white hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 text-sm">
                        <i class="fas fa-sign-out-alt mr-2"></i>Sair
                    </button>
                </div>
            </div>
        </header>

        <div class="bg-white rounded-lg shadow-md overflow-hidden mb-8">
            <div class="flex border-b border-gray-200 overflow-x-auto">
                <button id="tabProdutos" class="tab-btn px-3 sm:px-4 py-2 sm:py-3 font-medium text-pink-600 border-b-2 border-pink-600 bg-pink-50 whitespace-nowrap text-sm sm:text-base">Produtos</button>
                <button id="tabKitsFestas" class="tab-btn px-3 sm:px-4 py-2 sm:py-3 font-medium text-gray-500 hover:text-pink-600 whitespace-nowrap text-sm sm:text-base">Kits Festas</button>
                <button id="tabPedidos" class="tab-btn px-3 sm:px-4 py-2 sm:py-3 font-medium text-gray-500 hover:text-pink-600 whitespace-nowrap text-sm sm:text-base">Pedidos</button>
            </div>

            <!-- Se√ß√£o Produtos -->
            <div id="contentProdutos" class="tab-content active p-3 sm:p-6">
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6">
                    <!-- Formul√°rio de Produto -->
                    <div class="bg-gray-50 p-4 sm:p-6 rounded-lg">
                        <h2 class="text-lg sm:text-xl font-semibold mb-3 sm:mb-4 text-pink-700">Cadastrar Novo Produto</h2>
                        <form id="formProduto" class="space-y-3 sm:space-y-4">
                            <div>
                                <label for="nomeProduto" class="block text-sm font-medium text-gray-700 mb-1">Nome do Produto</label>
                                <input type="text" id="nomeProduto" class="block w-full px-3 py-2 text-base rounded-md border-gray-300 shadow-sm focus:border-pink-500 focus:ring-pink-500" required>
                            </div>
                            <div>
                                <label for="precoProduto" class="block text-sm font-medium text-gray-700 mb-1">Pre√ßo (R$)</label>
                                <input type="number" id="precoProduto" step="0.01" min="0" class="block w-full px-3 py-2 text-base rounded-md border-gray-300 shadow-sm focus:border-pink-500 focus:ring-pink-500" required>
                            </div>
                            <div>
                                <label for="descricaoProduto" class="block text-sm font-medium text-gray-700 mb-1">Descri√ß√£o</label>
                                <textarea id="descricaoProduto" rows="3" class="block w-full px-3 py-2 text-base rounded-md border-gray-300 shadow-sm focus:border-pink-500 focus:ring-pink-500"></textarea>
                            </div>
                            <button type="submit" class="inline-flex items-center px-4 py-2 bg-pink-600 border border-transparent rounded-md font-semibold text-white hover:bg-pink-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-pink-500">
                                <i class="fas fa-plus mr-2"></i> Adicionar Produto
                            </button>
                        </form>
                    </div>

                    <!-- Calculadora -->
                    <div class="bg-pink-50 p-4 sm:p-6 rounded-lg">
                        <h2 class="text-lg sm:text-xl font-semibold mb-3 sm:mb-4 text-pink-700">Calculadora</h2>
                        <div class="space-y-3 sm:space-y-4">
                            <div>
                                <label for="produtoSelecionado" class="block text-sm font-medium text-gray-700 mb-1">Produto</label>
                                <select id="produtoSelecionado" class="block w-full px-3 py-2 text-base rounded-md border-gray-300 shadow-sm focus:border-pink-500 focus:ring-pink-500">
                                    <option value="">Selecione um produto</option>
                                </select>
                            </div>
                            <div>
                                <label for="quantidadeCalculo" class="block text-sm font-medium text-gray-700 mb-1">Quantidade (kg, unidades, etc.)</label>
                                <input type="number" id="quantidadeCalculo" step="0.1" min="0" value="0" class="block w-full px-3 py-2 text-base rounded-md border-gray-300 shadow-sm focus:border-pink-500 focus:ring-pink-500">
                            </div>
                            <div class="bg-white p-3 sm:p-4 rounded-md">
                                <p class="text-xs sm:text-sm text-gray-500">Pre√ßo unit√°rio:</p>
                                <p id="precoUnitario" class="text-base sm:text-lg font-semibold text-pink-600">R$ 0,00</p>
                                <p class="text-xs sm:text-sm text-gray-500">Total item:</p>
                                <p id="totalCalculo" class="text-base sm:text-lg font-bold text-pink-700">R$ 0,00</p>
                            </div>
                            <button id="adicionarProdutoCalculadora" class="inline-flex items-center justify-center px-4 py-2.5 bg-pink-600 border border-transparent rounded-md font-semibold text-white hover:bg-pink-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-pink-500 w-full text-sm sm:text-base">
                                <i class="fas fa-plus mr-2"></i> Adicionar Produto
                            </button>
                            
                            <!-- Lista de produtos adicionados -->
                            <div id="produtosCalculadora" class="bg-white p-3 sm:p-4 rounded-md mt-3 sm:mt-4">
                                <h3 class="text-sm font-medium text-gray-700 mb-2">Produtos Adicionados:</h3>
                                <div id="listaProdutosCalculadora" class="space-y-2 mb-3">
                                    <p class="text-sm text-gray-500 italic">Nenhum produto adicionado</p>
                                </div>
                                <div class="border-t pt-2">
                                    <div class="flex justify-between items-center">
                                        <span class="font-bold text-base sm:text-lg">TOTAL GERAL:</span>
                                        <span id="totalGeralCalculadora" class="font-bold text-lg sm:text-xl text-pink-700">R$ 0,00</span>
                                    </div>
                                </div>
                                <button id="limparCalculadora" class="mt-2 inline-flex items-center justify-center px-3 py-2 bg-gray-500 border border-transparent rounded-md font-medium text-white hover:bg-gray-600 text-sm w-full">
                                    <i class="fas fa-trash mr-2"></i> Limpar Lista
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Lista de Produtos -->
                <div class="mt-6 sm:mt-8">
                    <h2 class="text-lg sm:text-xl font-semibold mb-3 sm:mb-4 text-pink-700">Produtos Cadastrados</h2>
                    <div class="overflow-x-auto">
                        <table class="min-w-full divide-y divide-gray-200">
                            <thead class="bg-gray-50">
                                <tr>
                                    <th class="px-3 sm:px-6 py-2 sm:py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Nome</th>
                                    <th class="px-3 sm:px-6 py-2 sm:py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Pre√ßo</th>
                                    <th class="hidden sm:table-cell px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Descri√ß√£o</th>
                                    <th class="px-3 sm:px-6 py-2 sm:py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">A√ß√µes</th>
                                </tr>
                            </thead>
                            <tbody id="listaProdutos" class="bg-white divide-y divide-gray-200">
                                <!-- Produtos ser√£o adicionados aqui via JavaScript -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- Se√ß√£o Kits Festas -->
            <div id="contentKitsFestas" class="tab-content p-3 sm:p-6">
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6">
                    <!-- Sele√ß√£o de Kit -->
                    <div class="bg-gradient-to-br from-pink-50 to-purple-50 p-4 sm:p-6 rounded-lg border border-pink-200">
                        <h2 class="text-lg sm:text-xl font-semibold mb-3 sm:mb-4 text-pink-700 flex items-center">
                            <i class="fas fa-birthday-cake mr-2"></i>Kits Festas
                        </h2>
                        
                        <!-- Sele√ß√£o do Kit -->
                        <div class="mb-4">
                            <label class="block text-sm font-medium text-gray-700 mb-2">Escolha o Kit:</label>
                            <div class="grid grid-cols-1 sm:grid-cols-2 gap-2">
                                <div class="kit-option" data-kit="10">
                                    <input type="radio" id="kit10" name="kitSelecionado" value="10" class="sr-only">
                                    <label for="kit10" class="kit-card cursor-pointer block p-3 border-2 border-gray-200 rounded-lg hover:border-pink-300 transition-colors">
                                        <div class="font-semibold text-pink-700">KIT 10 PESSOAS</div>
                                        <div class="text-lg font-bold text-pink-600">R$ 265,00</div>
                                        <div class="text-xs text-gray-600">1,5kg bolo + 100 salgados + 42 doces</div>
                                    </label>
                                </div>
                                <div class="kit-option" data-kit="15">
                                    <input type="radio" id="kit15" name="kitSelecionado" value="15" class="sr-only">
                                    <label for="kit15" class="kit-card cursor-pointer block p-3 border-2 border-gray-200 rounded-lg hover:border-pink-300 transition-colors">
                                        <div class="font-semibold text-pink-700">KIT 15 PESSOAS</div>
                                        <div class="text-lg font-bold text-pink-600">R$ 400,00</div>
                                        <div class="text-xs text-gray-600">2kg bolo + 150 salgados + 84 doces</div>
                                    </label>
                                </div>
                                <div class="kit-option" data-kit="20">
                                    <input type="radio" id="kit20" name="kitSelecionado" value="20" class="sr-only">
                                    <label for="kit20" class="kit-card cursor-pointer block p-3 border-2 border-gray-200 rounded-lg hover:border-pink-300 transition-colors">
                                        <div class="font-semibold text-pink-700">KIT 20 PESSOAS</div>
                                        <div class="text-lg font-bold text-pink-600">R$ 550,00</div>
                                        <div class="text-xs text-gray-600">2,5kg bolo + 200 salgados + 126 doces</div>
                                    </label>
                                </div>
                                <div class="kit-option" data-kit="30">
                                    <input type="radio" id="kit30" name="kitSelecionado" value="30" class="sr-only">
                                    <label for="kit30" class="kit-card cursor-pointer block p-3 border-2 border-gray-200 rounded-lg hover:border-pink-300 transition-colors">
                                        <div class="font-semibold text-pink-700">KIT 30 PESSOAS</div>
                                        <div class="text-lg font-bold text-pink-600">R$ 735,00</div>
                                        <div class="text-xs text-gray-600">3kg bolo + 300 salgados + 168 doces</div>
                                    </label>
                                </div>
                                <div class="kit-option" data-kit="40">
                                    <input type="radio" id="kit40" name="kitSelecionado" value="40" class="sr-only">
                                    <label for="kit40" class="kit-card cursor-pointer block p-3 border-2 border-gray-200 rounded-lg hover:border-pink-300 transition-colors">
                                        <div class="font-semibold text-pink-700">KIT 40 PESSOAS</div>
                                        <div class="text-lg font-bold text-pink-600">R$ 960,00</div>
                                        <div class="text-xs text-gray-600">4kg bolo + 400 salgados + 210 doces</div>
                                    </label>
                                </div>
                                <div class="kit-option" data-kit="50">
                                    <input type="radio" id="kit50" name="kitSelecionado" value="50" class="sr-only">
                                    <label for="kit50" class="kit-card cursor-pointer block p-3 border-2 border-gray-200 rounded-lg hover:border-pink-300 transition-colors">
                                        <div class="font-semibold text-pink-700">KIT 50 PESSOAS</div>
                                        <div class="text-lg font-bold text-pink-600">R$ 1.332,00</div>
                                        <div class="text-xs text-gray-600">5kg bolo + 500 salgados + 252 doces</div>
                                    </label>
                                </div>
                            </div>
                        </div>

                        <!-- Personaliza√ß√£o do Kit -->
                        <div id="kitPersonalizacao" class="space-y-4" style="display: none;">
                            <!-- Sabor do Bolo -->
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">
                                    <i class="fas fa-birthday-cake mr-1 text-pink-500"></i>Sabor do Bolo:
                                </label>
                                <select id="saborBolo" class="block w-full px-3 py-2 text-sm rounded-md border-gray-300 shadow-sm focus:border-pink-500 focus:ring-pink-500">
                                    <option value="">Selecione o sabor</option>
                                    <option value="Dois amores">Dois amores</option>
                                    <option value="Dois amores c/morango">Dois amores c/morango</option>
                                    <option value="Brigadeiro">Brigadeiro</option>
                                    <option value="Brigadeiro com morango">Brigadeiro com morango</option>
                                    <option value="Morango com nata e suspiro">Morango com nata e suspiro</option>
                                    <option value="Morango com cocada">Morango com cocada</option>
                                    <option value="Morango com 4 leite">Morango com 4 leite</option>
                                    <option value="Abacaxi com coco">Abacaxi com coco</option>
                                    <option value="Abacaxi com 4Leite">Abacaxi com 4Leite</option>
                                    <option value="Abacaxi com leite ninho">Abacaxi com leite ninho</option>
                                    <option value="Salada de frutas com nata">Salada de frutas com nata</option>
                                    <option value="Prest√≠gio">Prest√≠gio</option>
                                </select>
                            </div>

                            <!-- Tipo de Salgados -->
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">
                                    <i class="fas fa-utensils mr-1 text-pink-500"></i>Salgados:
                                </label>
                                <div class="space-y-2">
                                    <label class="flex items-center">
                                        <input type="radio" name="tipoSalgados" value="sortidos" class="text-pink-600 focus:ring-pink-500">
                                        <span class="ml-2 text-sm">Sortidos (escolha da casa)</span>
                                    </label>
                                    <label class="flex items-center">
                                        <input type="radio" name="tipoSalgados" value="escolha" class="text-pink-600 focus:ring-pink-500">
                                        <span class="ml-2 text-sm">Escolha do cliente</span>
                                    </label>
                                </div>
                            </div>

                            <!-- Sele√ß√£o de Salgados Espec√≠ficos -->
                            <div id="selecaoSalgados" class="hidden">
                                <label class="block text-sm font-medium text-gray-700 mb-2">
                                    Escolha at√© 5 tipos de salgados:
                                </label>
                                <div class="grid grid-cols-1 gap-2 max-h-40 overflow-y-auto border border-gray-200 rounded p-2">
                                    <label class="flex items-center">
                                        <input type="checkbox" name="salgadosEscolhidos" value="Coxinha" class="text-pink-600 focus:ring-pink-500">
                                        <span class="ml-2 text-sm">Coxinha</span>
                                    </label>
                                    <label class="flex items-center">
                                        <input type="checkbox" name="salgadosEscolhidos" value="Risoles de carne" class="text-pink-600 focus:ring-pink-500">
                                        <span class="ml-2 text-sm">Risoles de carne</span>
                                    </label>
                                    <label class="flex items-center">
                                        <input type="checkbox" name="salgadosEscolhidos" value="Kibe" class="text-pink-600 focus:ring-pink-500">
                                        <span class="ml-2 text-sm">Kibe</span>
                                    </label>
                                    <label class="flex items-center">
                                        <input type="checkbox" name="salgadosEscolhidos" value="Bolinho de queijo" class="text-pink-600 focus:ring-pink-500">
                                        <span class="ml-2 text-sm">Bolinho de queijo</span>
                                    </label>
                                    <label class="flex items-center">
                                        <input type="checkbox" name="salgadosEscolhidos" value="Croquete de presunto e queijo" class="text-pink-600 focus:ring-pink-500">
                                        <span class="ml-2 text-sm">Croquete de presunto e queijo</span>
                                    </label>
                                </div>
                                <div id="contadorSalgados" class="text-xs text-gray-500 mt-1">0/5 salgados selecionados</div>
                            </div>

                            <!-- Bot√£o Adicionar Kit -->
                            <button id="adicionarKit" class="w-full bg-gradient-to-r from-pink-600 to-purple-600 text-white py-3 px-4 rounded-lg hover:from-pink-700 hover:to-purple-700 focus:outline-none focus:ring-2 focus:ring-pink-500 font-semibold text-sm transition-all duration-200 transform hover:scale-105">
                                <i class="fas fa-plus mr-2"></i>Adicionar Kit ao Pedido
                            </button>
                        </div>
                    </div>

                    <!-- Preview do Kit -->
                    <div class="bg-white p-4 sm:p-6 rounded-lg border border-gray-200">
                        <h3 class="text-lg font-semibold mb-4 text-pink-700 flex items-center">
                            <i class="fas fa-eye mr-2"></i>Preview do Kit
                        </h3>
                        
                        <div id="kitPreview" class="text-center text-gray-500 italic py-8">
                            Selecione um kit para ver os detalhes
                        </div>

                        <div id="kitDetalhes" class="hidden space-y-4">
                            <div class="bg-pink-50 p-4 rounded-lg">
                                <h4 id="kitTitulo" class="font-bold text-lg text-pink-700 mb-2"></h4>
                                <div id="kitPreco" class="text-2xl font-bold text-pink-600 mb-3"></div>
                                
                                <div class="space-y-2 text-sm">
                                    <div class="flex justify-between">
                                        <span class="font-medium">Bolo:</span>
                                        <span id="kitBolo"></span>
                                    </div>
                                    <div class="flex justify-between">
                                        <span class="font-medium">Sabor:</span>
                                        <span id="kitSabor" class="text-pink-600">-</span>
                                    </div>
                                    <div class="flex justify-between">
                                        <span class="font-medium">Salgados:</span>
                                        <span id="kitSalgados"></span>
                                    </div>
                                    <div class="flex justify-between">
                                        <span class="font-medium">Tipo:</span>
                                        <span id="kitTipoSalgados" class="text-pink-600">-</span>
                                    </div>
                                    <div id="kitSalgadosEscolhidos" class="hidden">
                                        <span class="font-medium">Salgados escolhidos:</span>
                                        <div id="listaSalgadosEscolhidos" class="text-xs text-gray-600 mt-1"></div>
                                    </div>
                                    <div class="flex justify-between">
                                        <span class="font-medium">Doces:</span>
                                        <span id="kitDoces"></span>
                                    </div>
                                </div>
                            </div>

                            <!-- Composi√ß√£o dos Doces -->
                            <div class="bg-yellow-50 p-3 rounded-lg border border-yellow-200">
                                <h5 class="font-medium text-yellow-800 mb-2">
                                    <i class="fas fa-candy-cane mr-1"></i>Composi√ß√£o dos Doces (por caixa):
                                </h5>
                                <div class="text-xs text-yellow-700 space-y-1">
                                    <div>‚Ä¢ 7 brigadeiros</div>
                                    <div>‚Ä¢ 7 beijinhos</div>
                                    <div>‚Ä¢ 7 surpresa de uva</div>
                                    <div>‚Ä¢ 7 dois amores</div>
                                    <div>‚Ä¢ 7 amendoim</div>
                                    <div>‚Ä¢ 7 leite ninho com nutella</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Se√ß√£o Pedidos -->
            <div id="contentPedidos" class="tab-content p-3 sm:p-6">
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6 mb-6 sm:mb-8">
                    <!-- Formul√°rio de Pedido -->
                    <div class="bg-gray-50 p-4 sm:p-6 rounded-lg">
                        <h2 class="text-lg sm:text-xl font-semibold mb-3 sm:mb-4 text-pink-700">Novo Pedido</h2>
                        <form id="formPedido" class="space-y-3 sm:space-y-4">
                            <div>
                                <label for="clientePedido" class="block text-sm font-medium text-gray-700 mb-1">Nome do Cliente</label>
                                <input type="text" id="clientePedido" class="block w-full px-3 py-2 text-base rounded-md border-gray-300 shadow-sm focus:border-pink-500 focus:ring-pink-500" required>
                            </div>
                            <div>
                                <label for="horarioPedido" class="block text-sm font-medium text-gray-700 mb-1">Hor√°rio</label>
                                <input type="datetime-local" id="horarioPedido" class="block w-full px-3 py-2 text-base rounded-md border-gray-300 shadow-sm focus:border-pink-500 focus:ring-pink-500" required>
                            </div>
                            <div>
                                <label for="valorPedido" class="block text-sm font-medium text-gray-700 mb-1">Valor Total (R$)</label>
                                <input type="number" id="valorPedido" step="0.01" min="0" class="block w-full px-3 py-2 text-base rounded-md border-gray-300 shadow-sm focus:border-pink-500 focus:ring-pink-500" required>
                            </div>
                            <!-- Se√ß√£o Adicionar Produto -->
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-3">ADICIONAR PRODUTO</label>
                                <div class="bg-white p-4 rounded-lg border border-gray-200 space-y-3">
                                    <div class="grid grid-cols-1 sm:grid-cols-2 gap-3">
                                        <div>
                                            <label for="produtoPedido" class="block text-xs font-medium text-gray-600 mb-1">Produto</label>
                                            <select id="produtoPedido" class="block w-full px-3 py-2 text-sm rounded-md border-gray-300 shadow-sm focus:border-pink-500 focus:ring-pink-500">
                                                <option value="">Selecione um produto</option>
                                            </select>
                                        </div>
                                        <div>
                                            <label for="quantidadePedido" id="labelQuantidadePedido" class="block text-xs font-medium text-gray-600 mb-1">Quantidade</label>
                                            <input type="number" id="quantidadePedido" step="0.1" min="0.1" value="0" class="block w-full px-3 py-2 text-sm rounded-md border-gray-300 shadow-sm focus:border-pink-500 focus:ring-pink-500">
                                        </div>
                            <div id="descricaoBoloContainer" class="hidden">
                                <label for="descricaoBolo" class="block text-xs font-medium text-gray-600 mb-1">Descri√ß√£o do Bolo (sabor)</label>
                                <input type="text" id="descricaoBolo" class="block w-full px-3 py-2 text-sm rounded-md border-gray-300 shadow-sm focus:border-pink-500 focus:ring-pink-500" placeholder="Ex: Chocolate, Baunilha, Morango...">
                            </div>
                            <div id="diversosContainer" class="hidden">
                                <div class="grid grid-cols-1 sm:grid-cols-2 gap-3">
                                    <div>
                                        <label for="nomeDiversos" class="block text-xs font-medium text-gray-600 mb-1">Nome do Produto</label>
                                        <input type="text" id="nomeDiversos" class="block w-full px-3 py-2 text-sm rounded-md border-gray-300 shadow-sm focus:border-pink-500 focus:ring-pink-500" placeholder="Ex: Torta de lim√£o, Pudim...">
                                    </div>
                                    <div>
                                        <label for="precoDiversos" class="block text-xs font-medium text-gray-600 mb-1">Pre√ßo (R$)</label>
                                        <input type="number" id="precoDiversos" step="0.01" min="0" class="block w-full px-3 py-2 text-sm rounded-md border-gray-300 shadow-sm focus:border-pink-500 focus:ring-pink-500" placeholder="0,00">
                                    </div>
                                </div>
                            </div>
                                    </div>
                                    <div class="flex justify-between items-center bg-gray-50 p-2 rounded">
                                        <div>
                                            <span class="text-xs text-gray-600">Pre√ßo unit√°rio: </span>
                                            <span id="precoUnitarioPedido" class="font-semibold text-pink-600">R$ 0,00</span>
                                        </div>
                                        <div>
                                            <span class="text-xs text-gray-600">Total: </span>
                                            <span id="totalItemPedido" class="font-bold text-pink-700">R$ 0,00</span>
                                        </div>
                                    </div>
                                    <button type="button" id="adicionarProdutoPedido" class="w-full bg-pink-600 text-white py-2 px-4 rounded-md hover:bg-pink-700 focus:outline-none focus:ring-2 focus:ring-pink-500 text-sm font-medium">
                                        <i class="fas fa-plus mr-2"></i>Adicionar ao Pedido
                                    </button>
                                </div>
                            </div>

                            <!-- Lista de Produtos do Pedido -->
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Produtos do Pedido</label>
                                <div id="produtosPedidoLista" class="bg-white border border-gray-200 rounded-lg p-3 min-h-[120px]">
                                    <p class="text-sm text-gray-500 italic text-center py-4">Nenhum produto adicionado ao pedido</p>
                                </div>
                                <div class="bg-pink-50 p-3 rounded-lg mt-2">
                                    <div class="flex justify-between items-center">
                                        <span class="font-bold text-lg">TOTAL DO PEDIDO:</span>
                                        <span id="totalPedidoCalculado" class="font-bold text-xl text-pink-700">R$ 0,00</span>
                                    </div>
                                </div>
                            </div>
                            <div>
                                <label for="observacoesPedido" class="block text-sm font-medium text-gray-700 mb-1">Observa√ß√µes Especiais</label>
                                <textarea id="observacoesPedido" rows="3" placeholder="Ex: Sem a√ß√∫car, entrega √†s 15h, embalagem especial..." class="block w-full px-3 py-2 text-base rounded-md border-gray-300 shadow-sm focus:border-pink-500 focus:ring-pink-500"></textarea>
                            </div>
                            
                            <button type="submit" class="inline-flex items-center justify-center px-4 py-2.5 bg-pink-600 border border-transparent rounded-md font-semibold text-white hover:bg-pink-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-pink-500 w-full text-sm sm:text-base">
                                <i class="fas fa-check-circle mr-2"></i> Finalizar Pedido
                            </button>
                        </form>
                    </div>

                    <!-- Pr√©-visualiza√ß√£o da Comanda para Cozinha -->
                    <div class="bg-white border border-gray-200 p-4 sm:p-6 rounded-lg">
                        <h2 class="text-lg sm:text-xl font-semibold mb-3 sm:mb-4 text-center text-pink-700 no-print">Pr√©-visualiza√ß√£o da Comanda</h2>
                        
                        <!-- Toggle Button -->
                        <div class="text-center mb-4 no-print">
                            <div class="inline-flex rounded-lg border border-gray-200 bg-gray-100 p-1">
                                <button id="togglePrintMode" class="px-3 py-2 text-sm font-medium rounded-md bg-white text-pink-600 shadow-sm">
                                    <i class="fas fa-print mr-1"></i> Impress√£o
                                </button>
                                <button id="toggleCopyMode" class="px-3 py-2 text-sm font-medium rounded-md text-gray-500 hover:text-pink-600">
                                    <i class="fas fa-copy mr-1"></i> Copiar Imagem
                                </button>
                            </div>
                        </div>
                        
                        <div id="previewNotinha" class="kitchen-receipt">
                            <div id="comandaHeader" class="text-center mb-4 border-b-2 border-dashed border-gray-400 pb-4">
                                <h3 class="text-lg font-bold">üßÅ CONFEITARIA LOURDES üßÅ</h3>
                                <p class="text-sm">COMANDA DE PRODU√á√ÉO</p>
                                <p class="text-xs">Rua Rio Japur√°, 1130 - Bairro Alto</p>
                                <p class="text-xs">(41) 9807-5826</p>
                            </div>
                            
                            <div class="mb-4">
                                <div class="flex justify-between border-b border-gray-300 pb-1">
                                    <span class="font-bold">CLIENTE:</span>
                                    <span id="previewCliente" class="font-bold">-</span>
                                </div>
                                <div class="flex justify-between border-b border-gray-300 pb-1 mt-2">
                                    <span class="font-bold">DATA/HORA:</span>
                                    <span id="previewHorario" class="font-bold">-</span>
                                </div>
                                <div class="flex justify-between border-b border-gray-300 pb-1 mt-2">
                                    <span class="font-bold">VALOR:</span>
                                    <span id="previewTotal" class="font-bold text-lg">R$ 0,00</span>
                                </div>
                            </div>
                            
                            <div class="mb-4">
                                <h4 class="font-bold text-center mb-2 bg-gray-200 p-2">üìã ITENS PARA PRODUZIR:</h4>
                                <div id="previewItens" class="text-sm leading-relaxed">
                                    <p class="text-gray-500 italic">Aguardando descri√ß√£o do pedido...</p>
                                </div>
                            </div>
                            
                            <div id="previewObservacoes" class="mb-4" style="display: none;">
                                <h4 class="font-bold text-center mb-2 bg-yellow-200 p-2">‚ö†Ô∏è OBSERVA√á√ïES ESPECIAIS:</h4>
                                <div id="previewObservacoesTexto" class="text-sm leading-relaxed bg-yellow-50 p-2 border border-yellow-300">
                                </div>
                            </div>
                            
                            <!-- Se√ß√£o do valor total para modo de impress√£o -->
                            <div id="valorTotalPrint" class="valor-total-section" style="display: none;">
                                <div class="flex justify-between">
                                    <span class="valor-label">VALOR TOTAL:</span>
                                    <span id="previewTotalPrint" class="valor-amount">R$ 0,00</span>
                                </div>
                            </div>
                            
                        </div>
                        
                        <div class="text-center mt-3 sm:mt-4 no-print space-x-2">
                            <button onclick="imprimirComanda()" class="inline-flex items-center justify-center px-4 py-2.5 bg-blue-600 border border-transparent rounded-md font-semibold text-white hover:bg-blue-700 text-sm sm:text-base">
                                <i class="fas fa-print mr-2"></i> Imprimir Comanda
                            </button>
                            <button onclick="copiarComandaImagem()" class="inline-flex items-center justify-center px-4 py-2.5 bg-green-600 border border-transparent rounded-md font-semibold text-white hover:bg-green-700 text-sm sm:text-base">
                                <i class="fas fa-copy mr-2"></i> Copiar Imagem
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Lista de Pedidos -->
                <div class="mt-6 sm:mt-8">
                    <h2 class="text-lg sm:text-xl font-semibold mb-3 sm:mb-4 text-pink-700">Pedidos Realizados</h2>
                    <div class="overflow-x-auto">
                        <table class="min-w-full divide-y divide-gray-200">
                            <thead class="bg-gray-50">
                                <tr>
                                    <th class="px-3 sm:px-6 py-2 sm:py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Cliente</th>
                                    <th class="hidden sm:table-cell px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Hor√°rio</th>
                                    <th class="px-3 sm:px-6 py-2 sm:py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Descri√ß√£o</th>
                                    <th class="px-3 sm:px-6 py-2 sm:py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Total</th>
                                    <th class="px-3 sm:px-6 py-2 sm:py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">A√ß√µes</th>
                                </tr>
                            </thead>
                            <tbody id="listaPedidos" class="bg-white divide-y divide-gray-200">
                                <!-- Pedidos ser√£o adicionados aqui via JavaScript -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Container para Notifica√ß√µes -->
    <div id="notificationContainer" class="notification-container"></div>

    <script>
        // Verificar autentica√ß√£o ao carregar a p√°gina
        document.addEventListener('DOMContentLoaded', function() {
            verificarAutenticacao();
        });

        function verificarAutenticacao() {
            const usuarioLogado = localStorage.getItem('usuarioLogado');
            
            if (!usuarioLogado) {
                // Usu√°rio n√£o est√° logado, redirecionar para login
                window.location.href = 'index.html';
                return;
            }

            // Exibir nome do usu√°rio
            document.getElementById('nomeUsuario').textContent = usuarioLogado.charAt(0).toUpperCase() + usuarioLogado.slice(1);

            // Configurar bot√£o de logout
            document.getElementById('btnLogout').addEventListener('click', function() {
                if (confirm('Tem certeza que deseja sair do sistema?')) {
                    logout();
                }
            });
        }

        function logout() {
            // Limpar dados de autentica√ß√£o
            localStorage.removeItem('usuarioLogado');
            localStorage.removeItem('dataLogin');
            
            // Redirecionar para login
            window.location.href = 'index.html';
        }

        // Verificar se a sess√£o ainda √© v√°lida (opcional - pode implementar expira√ß√£o)
        function verificarSessao() {
            const dataLogin = localStorage.getItem('dataLogin');
            if (dataLogin) {
                const agora = new Date();
                const login = new Date(dataLogin);
                const diferencaHoras = (agora - login) / (1000 * 60 * 60);
                
                // Se passou mais de 8 horas, fazer logout autom√°tico
                if (diferencaHoras > 8) {
                    alert('Sua sess√£o expirou. Fa√ßa login novamente.');
                    logout();
                }
            }
        }

        // Verificar sess√£o a cada 30 minutos
        setInterval(verificarSessao, 30 * 60 * 1000);
    </script>
    <script src="script.js"></script>
</body>
</html>
